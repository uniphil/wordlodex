webpackJsonp([1],{"0MkE":function(e,t){},"7HkU":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("/5sW"),r=s("Xxa5"),i=s.n(r),o=s("exGp"),a=s.n(o),u=s("Gu7T"),c=s.n(u),l=s("c/Tr"),d=s.n(l),f={name:"HelloWorld",props:{state:String,size:Number,minSize:Number,maxSize:Number},data:function(){return{}}},p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"controls"},[s("h1",[e._v("Wordlodex±")]),e._v(" "),s("div",{staticClass:"sizer"},[e._v("\n    Game:\n    "),"welcome"===e.state?s("button",{attrs:{disabled:e.size<=e.minSize},on:{click:function(t){return t.preventDefault(),e.$emit("change-size",-1)}}},[e._v("\n      -\n    ")]):e._e(),e._v("\n    "+e._s(e.size)+"x"+e._s(e.size)+"\n    "),"welcome"===e.state?s("button",{attrs:{disabled:e.size>=e.maxSize},on:{click:function(t){return t.preventDefault(),e.$emit("change-size",1)}}},[e._v("\n      +\n    ")]):e._e(),e._v(" "),"welcome"!==e.state?s("button",{attrs:{title:"reset game"},on:{click:function(t){return t.preventDefault(),e.$emit("reset")}}},[e._v("\n      ↺\n    ")]):e._e()])])},staticRenderFns:[]};var h=s("VU/8")(f,p,!1,function(e){s("SIph")},"data-v-18c5467a",null).exports,m={name:"HelloWorld",props:{losts:Array,founds:Array,nopes:Array},mounted:function(){window.addEventListener("keyup",this.handleKeyUp)},destroyed:function(){window.removeEventListener("keyup",this.handleKeyUp)},methods:{handleKeyUp:function(e){var t=e.key.toLowerCase();"enter"===t?this.$emit("enter-press"):"escape"===t?this.$emit("escape-press"):"backspace"===t?this.$emit("backspace-press"):"abcdefghijklmnopqrstuvwxyz".includes(t)&&this.$emit("letter-press",t)}},data:function(){return{}}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"keyboard"},[s("div",{staticClass:"row"},e._l("qwertyuiop",function(t){return s("button",{key:t,class:{key:!0,lost:e.losts.includes(t),found:e.founds.includes(t),nope:e.nopes.includes(t)},on:{click:function(s){return s.preventDefault(),e.$emit("letter-press",t)}}},[e._v("\n      "+e._s(t)+"\n    ")])}),0),e._v(" "),s("div",{staticClass:"row"},e._l("asdfghjkl",function(t){return s("button",{key:t,class:{key:!0,lost:e.losts.includes(t),found:e.founds.includes(t),nope:e.nopes.includes(t)},on:{click:function(s){return s.preventDefault(),e.$emit("letter-press",t)}}},[e._v("\n      "+e._s(t)+"\n    ")])}),0),e._v(" "),s("div",{staticClass:"row"},[s("button",{staticClass:"key command",on:{click:function(t){return t.preventDefault(),e.$emit("enter-press")}}},[e._v("\n      enter\n    ")]),e._v(" "),e._l("zxcvbnm",function(t){return s("button",{key:t,class:{key:!0,lost:e.losts.includes(t),found:e.founds.includes(t),nope:e.nopes.includes(t)},on:{click:function(s){return s.preventDefault(),e.$emit("letter-press",t)}}},[e._v("\n      "+e._s(t)+"\n    ")])}),e._v(" "),s("button",{staticClass:"key command",on:{click:function(t){return t.preventDefault(),e.$emit("backspace-press")}}},[e._v("\n      del\n    ")])],2)])},staticRenderFns:[]};var y=s("VU/8")(m,v,!1,function(e){s("7HkU")},"data-v-2a1ba9ce",null).exports,g={name:"HelloWorld",props:{tiles:Array,losts:Array,founds:Array,nopes:Array},data:function(){return{}}},_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tiles"},e._l(e.tiles,function(t,n){return s("div",{key:"tile-"+n,staticClass:"row"},e._l(t,function(t,r){return s("div",{key:"tile-"+n+"-"+r,class:{tile:!0,guess:"guess"===t.type,entry:"entry"===t.type,nope:"guess"===t.type&&"nope"===t.outcome,lost:"guess"===t.type&&"lost"===t.outcome,found:"guess"===t.type&&"found"===t.outcome}},[e._v("\n      "+e._s(t.letter)+"\n    ")])}),0)}),0)},staticRenderFns:[]};var k={name:"App",components:{Controls:h,Keyboard:y,Tiles:s("VU/8")(g,_,!1,function(e){s("0MkE")},"data-v-b2610474",null).exports},data:function(){return{size:5,minSize:1,maxSize:12,wordlists:[],messages:[],state:"welcome",word:null,entry:"",guesses:[]}},computed:{tiles:function(){var e=this,t=this.guesses.map(function(t){return d()(t).map(function(t,s){return{type:"guess",letter:t,outcome:t===e.word[s]?"found":d()(e.word).includes(t)?"lost":"nope"}})});return t.length===this.size?t:t.concat([d()({length:this.size}).map(function(t,s){return{type:"entry",letter:e.entry[s]}})]).concat(d()({length:this.size-this.guesses.length-1}).map(function(t){return d()({length:e.size}).map(function(e){return{type:"empty"}})}))},founds:function(){var e,t=this;if(this.guesses.length<1)return[];var s=this.guesses.map(function(e){return d()(e).filter(function(e,s){return e===t.word[s]})});return(e=[].concat).apply.apply(e,c()(s))},losts:function(){var e=this;if(this.guesses.length<1)return[];var t=d()(this.word);return d()(this.guesses.join("")).filter(function(s){return t.includes(s)&&!e.founds.includes(s)})},nopes:function(){if(this.guesses.length<1)return[];var e=d()(this.word);return d()(this.guesses.join("")).filter(function(t){return!e.includes(t)})},loser:function(){return"end"===this.state&&!this.guesses.includes(this.word)}},methods:{handleLetterPress:function(e){if("welcome"===this.state)this.startGame();else if("end"===this.state)return;this.entry.length<this.size&&(this.entry+=e)},handleBackspacePress:function(){this.entry=this.entry.slice(0,-1),""===this.entry&&0===this.guesses.length&&this.resetGame()},handleEnterPress:function(){if("playing"===this.state&&this.entry.length===this.size){if(!this.wordlists[this.size].includes(this.entry))return void this.notify("Word not found :/");var e=this.entry;this.guesses.push(e),e===this.word?this.endGame(!0):this.guesses.length===this.size&&this.endGame(!1),this.entry=""}},notify:function(e){var t=this;this.messages.unshift({message:e,k:""+Math.random()}),setTimeout(function(){return t.messages.pop()},2e3)},startGame:function(){var e=this;return a()(i.a.mark(function t(){var s,n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state="playing",s=e.size,void 0!==(n=e.wordlists[s])){t.next=9;break}return e.wordlists[s]="loading",t.next=7,e.loadWordsforGame(s);case 7:t.next=14;break;case 9:if("loading"!==n){t.next=13;break}return t.abrupt("return");case 13:"errored"===n&&console.error("ohnooooooo");case 14:if(null===e.word){t.next=16;break}return t.abrupt("return");case 16:s===e.size&&(r=e.wordlists[s],e.word=r[Math.floor(Math.random()*r.length)]);case 17:case"end":return t.stop()}},t,e)}))()},resetGame:function(){this.state="welcome",this.word=null,this.entry="",this.guesses=[]},endGame:function(e){"playing"===this.state&&(e&&this.notify("You won!"),this.state="end")},loadWordsforGame:function(e){var t=this;return a()(i.a.mark(function s(){var n,r,o,a;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=(""+e).padStart(2,"0"),s.prev=1,s.next=4,fetch("static/words-"+n+".txt");case 4:return r=s.sent,s.next=7,r.text();case 7:o=s.sent,0===(a=o.split("\n").filter(function(t){return t.length===e})).length&&console.error("words loaded, but none filtered. raw:",o),t.wordlists[e]=a,s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),t.wordlists[e]="errored";case 16:case"end":return s.stop()}},s,t,[[1,13]])}))()}}},w={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{attrs:{id:"messages"}},e._l(e.messages,function(t){return s("div",{key:t.k,staticClass:"message"},[e._v("\n      "+e._s(t.message)+"\n    ")])}),0),e._v(" "),s("div",{staticClass:"controls-sizer"},[s("Controls",{attrs:{state:e.state,size:e.size,"min-size":e.minSize,"max-size":e.maxSize},on:{"change-size":function(t){e.size+=t},reset:e.resetGame}})],1),e._v(" "),e.loser?s("p",[e._v("The word was "),s("strong",[e._v(e._s(e.word))]),e._v(".")]):e._e(),e._v(" "),s("div",{staticClass:"tiles-sizer"},[s("Tiles",{attrs:{tiles:e.tiles}})],1),e._v(" "),s("div",{staticClass:"keyboard-sizer"},[s("Keyboard",{attrs:{losts:e.losts,founds:e.founds,nopes:e.nopes},on:{"letter-press":e.handleLetterPress,"backspace-press":e.handleBackspacePress,"escape-press":e.endGame,"enter-press":e.handleEnterPress}})],1)])},staticRenderFns:[]};var z=s("VU/8")(k,w,!1,function(e){s("kFJ6")},null,null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",render:function(e){return e(z)}})},SIph:function(e,t){},kFJ6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e92b766ab3ee7b126cf2.js.map